---
// Component Imports
import Header from '../components/Header.astro';
import MainNav from '../components/MainNav.astro';
import Tagline from '../components/Tagline.astro';
import Footer from '../components/Footer.astro';
import StoryFeed from '../components/StoryFeed.astro';

const allPosts = Astro.fetchContent('./articles/*.md');
const posts = allPosts.sort((a, b) => new Date(b.date) - new Date(a.date));

let title = 'David East';
---
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{title}</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="stylesheet" href="https://use.typekit.net/yjh1dhf.css">
    <link rel="stylesheet" href="/style/global.css">
    <style>
      .heading-label {
        font-family: var(--font-display);
        text-transform: uppercase;
        font-size: 1rem;
        letter-spacing: 1px;
        font-weight: bold;
      }

      .site-columns .heading-label {
        padding-block-end: 32px;
      }

      .story-headlines li a {
        color: var(--theme-color);
        text-decoration: none;
        font-weight: bold;
        font-family: var(--font-display);
        font-size: 1rem;
      }

      .story-headlines li a:hover,
      .story__header h4 a:hover {
        color: var(--theme-color-lighter);
        text-decoration: underline;
      }

      .aside-stories__section {
        padding-block-end: 64px;
      }

      .story-headlines {
        display: grid;
        row-gap: 20px;
      }
    </style>
    <style>
      .see-all a {
        text-transform: uppercase;
        font-weight: 800;
        color: var(--theme-color);
        font-size: 1.5rem;
        }

        .see-all {
        padding-block-start: 48px;
        }
    </style>
    <style>
        .floating-svg-left {
        position: absolute;
        grid-column: 1;
        }

        .floating-svg-right {
        position: absolute;
        grid-column: -1;
        }

        .floating-svg-left.tag-line-square {
        left: 32px;
        bottom: 64px;
        }
        .floating-svg-left.story-triangle {
        left: -40px;
        }
        .floating-svg-left.story-square {
        transform: translateY(600px) translateX(24px);
        }
        .floating-svg-left.story-square-bottom {
        transform: translateY(1520px) translateX(20px);
        }
        .floating-svg-left.story-outlined-triangle {
        transform: translateY(1040px);
        left: 0;
        }
        .floating-svg-right.aside-square {
        transform: translateY(220px);
        right: 32px;
        }
        .floating-svg-right.aside-square-bottom {
        transform: translateY(1220px);
        right: 48px;
        }
        .floating-svg-right.aside-triangle {
        transform: translateY(600px);
        right: -16px;
        }
        .floating-svg-right.aside-triangle-bottom {
        transform: translateY(1460px);
        right: -32px;
        }
        @media (max-width: 860px) {
        .floating-svg-left,
        .floating-svg-right {
            display: none;
        }
        }
    </style>
</head>
<body>

  <Header />

  <MainNav />

  <div class="site-grid">

    <div class="floating-svg-left tag-line-square">
      <svg width="39" height="39" viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="10.9761" y="37.4298" width="28" height="28" rx="2" transform="rotate(-109.135 10.9761 37.4298)" stroke="hsl(0, 0%, 82%)" stroke-width="4"/>
      </svg>
    </div>

    <Tagline>
      Here are my thoughts and <span class="slanted-xl">other stuff.</span>
    </Tagline>

  </div>

  <main class="site-grid">

    <div class="floating-svg-left story-triangle">
      <svg width="122" height="267" viewBox="0 0 122 267" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="122" height="267">
        <rect x="122" y="267" width="122" height="267" transform="rotate(-180 122 267)" fill="#C4C4C4"/>
        </mask>
        <g mask="url(#mask0)">
        <rect x="-44.7441" y="306.829" width="242.654" height="242.654" rx="21" transform="rotate(-135 -44.7441 306.829)" fill="hsl(32, 32%, 89%)" />
        </g>
      </svg>        
    </div>

    <div class="floating-svg-left story-square">
      <svg width="39" height="39" viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="10.9761" y="37.4298" width="28" height="28" rx="2" transform="rotate(-109.135 10.9761 37.4298)" stroke="hsl(32, 32%, 89%)" stroke-width="4"/>
      </svg>
    </div>

    <div class="floating-svg-left story-outlined-triangle">
      <svg width="61" height="105" viewBox="0 0 61 105" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="61" height="105">
        <rect x="61" y="105" width="61" height="105" transform="rotate(-180 61 105)" fill="#C4C4C4"/>
        </mask>
        <g mask="url(#mask0)">
        <rect y="-3.51727" width="179.965" height="169.161" rx="21" transform="matrix(-0.810158 -0.586212 0.810158 -0.586212 -67.0587 149.2)" stroke="hsl(0, 0%, 82%)" stroke-width="6"/>
        </g>
      </svg>  
    </div>

    <div class="floating-svg-right aside-square">
      <svg width="43" height="43" viewBox="0 0 43 43" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1.82434" y="20.5314" width="28" height="28" rx="2" transform="rotate(-41.9213 1.82434 20.5314)" stroke="hsl(32, 32%, 89%)" stroke-width="4"/>
      </svg>        
    </div>

    <div class="floating-svg-right aside-triangle">
      <svg width="122" height="264" viewBox="0 0 122 264" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="122" height="264">
        <rect width="122" height="264" fill="#C4C4C4"/>
        </mask>
        <g mask="url(#mask0)">
        <rect x="166.744" y="-39.8293" width="242.654" height="242.654" rx="21" transform="rotate(45 166.744 -39.8293)" stroke="hsl(32, 0%, 89%)" stroke-width="6"/>
        </g>
      </svg>
    </div>

    <div class="floating-svg-right aside-square-bottom">
      <svg width="43" height="43" viewBox="0 0 43 43" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="1.82434" y="20.5314" width="28" height="28" rx="2" transform="rotate(-41.9213 1.82434 20.5314)" stroke="hsl(32, 32%, 89%)" stroke-width="4"/>
      </svg>        
    </div>

    <div class="floating-svg-right aside-triangle-bottom">
      <svg width="122" height="264" viewBox="0 0 122 264" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="122" height="264">
        <rect width="122" height="264" fill="#C4C4C4"/>
        </mask>
        <g mask="url(#mask0)">
        <rect x="166.744" y="-39.8293" width="242.654" height="242.654" rx="21" transform="rotate(45 166.744 -39.8293)" fill="hsl(32, 32%, 89%)" />
        </g>
      </svg>  
    </div>

    <div class="floating-svg-left story-square-bottom">
      <svg width="39" height="39" viewBox="0 0 39 39" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="10.9761" y="37.4298" width="28" height="28" rx="2" transform="rotate(-109.135 10.9761 37.4298)" stroke="hsl(32, 32%, 89%)" stroke-width="4"/>
      </svg>
    </div>

    <div class="site-columns">
      <div class="site-columns__column">

        <h3 class="heading-label">Latest</h3>

        <StoryFeed posts={posts} />

        <!-- <div class="see-all">
          <a href="#" class="slanted-xs">See all</a>
        </div> -->

      </div>

      <aside class="site-columns__column aside-stories">

        <section class="aside-stories__section">
          <h3 class="heading-label">I'm proud of these</h3>

          <ul class="story-headlines">
            <li>
              <a href="#">Actually learn CSS Grid.</a>
            </li>
            <li>
              <a href="#">I dropped 95% of my Firebase bundle size using this one weird trick</a>
            </li>
          </ul>
        </section>

        <section class="aside-stories__section">
          <h3 class="heading-label">Popular</h3>

          <ul class="story-headlines">
            <li>
              <a href="#">TypeScript's new import() types feature explained</a>
            </li>
            <li>
              <a href="#">I dropped 95% of my Firebase bundle size using this one weird trick</a>
            </li>
            <li>
              <a href="#">
                Why it's tricky to measure Server-side Rendering performance
              </a>
            </li>
            <li>
              <a href="#">
                Simplify Web Worker code with Comlink
              </a>
            </li>
          </ul>
        </section>

      </aside>
    </div>

  </main>

  <Footer />

</body>
</html>
